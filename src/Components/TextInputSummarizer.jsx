"use client";
import cx from "classnames";
import { useLazyGetSummaryQuery } from "@/app/Redux/createApi";
import React, { useEffect, useRef, useState } from "react";
import "./TextInputSummarizer.css";
import PdfSummarizer from "./PdfSummarizer";
import axios from "axios";

function TextInputSummarizer() {
  const [allArticle, setAllArticle] = useState([]);

  const [article, setArticle] = useState({
    url: "",
    summary: "",
  });

  const helloRef = useRef();
  const inputRef = useRef();
  const historyRef = useRef();
  const welcomeRef = useRef();
  const buttonRef = useRef();
  const [btnValue, setBtnValue] = useState("url");

  function addToClassList(divArray, classname = []) {
    return divArray.map((div) => {
      return div.current.classList.add(...classname);
    });
  }

  function removeToClassList(divArray, classname) {
    return divArray.map((div) => {
      return div.current.classList.remove(classname);
    });
  }

  useEffect(() => {
    const getArticle = JSON.parse(localStorage.getItem("articles")) || [];

    setAllArticle(getArticle);

    const helloInterval = function hello__function() {
      helloRef.current.style.display = "none";

      addToClassList([helloRef], ["hello"]);
      addToClassList(
        [inputRef, historyRef, welcomeRef, buttonRef],
        ["drag_drop_modal", "flex"]
      );

      removeToClassList(
        [inputRef, historyRef, welcomeRef, buttonRef],
        "hidden"
      );
    };
    setInterval(helloInterval, 4500);

    return () => {
      clearInterval(helloInterval);
    };
  }, []);

  const [getSummary, { error, isFetching }] = useLazyGetSummaryQuery();
  const submit = async (e) => {
    e.preventDefault();

    const exsistingArticle = allArticle.find((item) => {
      return item.url == article.url;
    });

    if (exsistingArticle) {
      setArticle(exsistingArticle);
    } else {
      // const { data } = await getSummary({ articleUrl: article.url });
      // if (data?.summary) {
      //   const newArticle = { ...article, summary: data.summary };
      //   const updateArticles = [newArticle, ...allArticle];

      //   setArticle(newArticle);
      //   setAllArticle(updateArticles);

      //   localStorage.setItem("articles", JSON.stringify(updateArticles));

      sendToApi(article.url);
    }
  };

  function historyButton(e, index, item) {
    if (e.target.value == index) {
      setArticle((prev) => {
        return { ...prev, summary: item.summary };
      });
    }
  }

  function getValue(e) {
    setBtnValue(e.target.value);
  }

  const sendToApi = async (url) => {
    try {
      const response = await axios.post("/Api", {
        body: url,
      });

      console.log(response.data,"Res")
      const newArticle = { ...article, summary: response.data.sumamry };
      const updateArticles = [newArticle, ...allArticle];

      setArticle(newArticle);
      setAllArticle(updateArticles);

      localStorage.setItem("articles", JSON.stringify(updateArticles));
    } catch (error) {
      if (axios.isAxiosError(error)) {
        console.error("Axios error:", error.response?.data || error.message);
      } else {
        console.error("Unexpected error:", error);
      }
    }
  };

  return (
    <div className="input-div flex flex-col justify-center items-center gap-6">
      <div className="new__bg w-[100%]">
        <div className="hello__div">
          <svg
            className="hello__svg"
            ref={helloRef}
            viewBox="0 0 1230.94 414.57"
          >
            <path
              d="M-293.58-104.62S-103.61-205.49-60-366.25c9.13-32.45,9-58.31,0-74-10.72-18.82-49.69-33.21-75.55,31.94-27.82,70.11-52.22,377.24-44.11,322.48s34-176.24,99.89-183.19c37.66-4,49.55,23.58,52.83,47.92a117.06,117.06,0,0,1-3,45.32c-7.17,27.28-20.47,97.67,33.51,96.86,66.93-1,131.91-53.89,159.55-84.49,31.1-36.17,31.1-70.64,19.27-90.25-16.74-29.92-69.47-33-92.79,16.73C62.78-179.86,98.7-93.8,159-81.63S302.7-99.55,393.3-269.92c29.86-58.16,52.85-114.71,46.14-150.08-7.44-39.21-59.74-54.5-92.87-8.7-47,65-61.78,266.62-34.74,308.53S416.62-58,481.52-130.31s133.2-188.56,146.54-256.23c14-71.15-56.94-94.64-88.4-47.32C500.53-375,467.58-229.49,503.3-127a73.73,73.73,0,0,0,23.43,33.67c25.49,20.23,55.1,16,77.46,6.32a111.25,111.25,0,0,0,30.44-19.87c37.73-34.23,29-36.71,64.58-127.53C724-284.3,785-298.63,821-259.13a71,71,0,0,1,13.69,22.56c17.68,46,6.81,80-6.81,107.89-12,24.62-34.56,42.72-61.45,47.91-23.06,4.45-48.37-.35-66.48-24.27a78.88,78.88,0,0,1-12.66-25.8c-14.75-51,4.14-88.76,11-101.41,6.18-11.39,37.26-69.61,103.42-42.24,55.71,23.05,100.66-23.31,100.66-23.31"
              transform="translate(311.08 476.02)"
              style={{
                fill: "none",
                stroke: "#fff",
                strokeLinecap: "round",
                strokeMiterLimit: "10",
                strokeWidth: "35px",
              }}
            />
          </svg>

          <svg
            className="writing-svg hidden w-[100%]"
            viewBox="0 0 1192.101 95.502"
            width="1192.101"
            height="95.502"
            xmlns="http://www.w3.org/2000/svg"
            ref={welcomeRef}
          >
            <g
              strokeLinecap="round"
              stroke="#fff"
              strokeWidth="1px"
              fill="white"
            >
              <path
                className="animated-path"
                d="M 119.7 50.802 Q 122 50.802 123.05 51.802 Q 124.1 52.802 124.1 54.402 Q 124.1 57.002 122.55 59.002 Q 121 61.002 117.7 61.102 Q 109.8 61.202 103.5 59.902 Q 96.5 74.802 86.65 84.652 Q 76.8 94.502 67.2 94.502 Q 58.4 94.502 54 85.152 Q 49.6 75.802 49 60.102 Q 43 77.502 35.45 86.002 Q 27.9 94.502 19.4 94.502 Q 9.8 94.502 4.9 82.552 Q 0 70.602 0 50.402 Q 0 35.702 2.6 18.102 Q 3.3 13.102 5.15 11.152 Q 7 9.202 11 9.202 Q 14 9.202 15.65 10.502 Q 17.3 11.802 17.3 15.302 Q 17.3 16.002 17.1 18.002 Q 14.1 38.502 14.1 52.902 Q 14.1 66.302 16.4 73.602 Q 18.7 80.902 22.6 80.902 Q 26.1 80.902 31.05 73.552 Q 36 66.202 40.9 51.752 Q 45.8 37.302 49.2 17.302 Q 50 12.702 52.15 10.952 Q 54.3 9.202 58 9.202 Q 61.1 9.202 62.55 10.552 Q 64 11.902 64 14.602 Q 64 16.202 63.8 17.102 Q 61 33.402 61 49.702 Q 61 60.802 61.75 67.402 Q 62.5 74.002 64.65 77.452 Q 66.8 80.902 70.9 80.902 Q 75.7 80.902 81.6 73.652 Q 87.5 66.402 92.4 55.602 Q 86.3 51.802 83.2 45.752 Q 80.1 39.702 80.1 31.802 Q 80.1 23.902 82.55 18.452 Q 85 13.002 89.25 10.302 Q 93.5 7.602 98.7 7.602 Q 105.1 7.602 108.85 12.202 Q 112.6 16.802 112.6 24.802 Q 112.6 36.102 107.7 49.902 Q 112.8 50.802 119.7 50.802 Z M 702.5 94.802 Q 689.2 94.802 681.2 89.752 Q 673.2 84.702 673.2 74.302 Q 673.2 68.802 675.1 65.902 Q 677 63.002 680.7 63.002 Q 683.4 63.002 685.1 64.402 Q 686.8 65.802 686.8 68.002 Q 686.8 70.002 686.5 71.502 Q 686.5 71.902 686.35 72.902 Q 686.2 73.902 686.2 75.002 Q 686.2 79.502 690.75 81.702 Q 695.3 83.902 703.5 83.902 Q 712 83.902 716.8 80.852 Q 721.6 77.802 721.6 72.302 Q 721.6 68.902 719.4 66.452 Q 717.2 64.002 713.9 62.352 Q 710.6 60.702 704.6 58.302 Q 696.9 55.302 692.05 52.602 Q 687.2 49.902 683.75 45.252 Q 680.3 40.602 680.3 33.702 Q 680.3 26.502 684.15 20.902 Q 688 15.302 695.25 12.202 Q 702.5 9.102 712.3 9.102 Q 719.6 9.102 725.7 11.252 Q 731.8 13.402 735.45 17.802 Q 739.1 22.202 739.1 28.602 Q 739.1 34.902 737.2 38.102 Q 735.3 41.302 731.6 41.302 Q 729 41.302 727.25 39.702 Q 725.5 38.102 725.5 35.902 Q 725.5 34.002 725.8 32.402 Q 726.1 29.402 726.1 28.602 Q 726.1 24.402 722 22.202 Q 717.9 20.002 711.8 20.002 Q 703.2 20.002 698.65 23.152 Q 694.1 26.302 694.1 32.002 Q 694.1 35.802 696.45 38.502 Q 698.8 41.202 702.3 43.002 Q 705.8 44.802 712.1 47.302 Q 719.7 50.402 724.3 52.902 Q 728.9 55.402 732.15 59.702 Q 735.4 64.002 735.4 70.302 Q 735.4 82.102 726.45 88.452 Q 717.5 94.802 702.5 94.802 Z M 275.3 94.502 Q 271.5 94.502 269.95 90.502 Q 268.4 86.502 268.4 77.702 Q 268.4 64.702 272.1 53.002 Q 273 50.102 275.05 48.752 Q 277.1 47.402 280.8 47.402 Q 282.8 47.402 283.6 47.902 Q 284.4 48.402 284.4 49.802 Q 284.4 51.402 282.9 57.002 Q 281.9 61.002 281.3 63.952 Q 280.7 66.902 280.3 71.302 Q 283 63.502 286.75 58.102 Q 290.5 52.702 294.45 50.052 Q 298.4 47.402 301.9 47.402 Q 305.4 47.402 306.85 49.002 Q 308.3 50.602 308.3 53.902 Q 308.3 57.102 306.4 65.502 Q 305.6 69.102 305.3 70.902 Q 310.3 58.602 316.4 53.002 Q 322.5 47.402 327.8 47.402 Q 334.3 47.402 334.3 53.902 Q 334.3 57.802 332.1 68.002 Q 330.2 76.702 330.2 79.502 Q 330.2 83.502 333.1 83.502 Q 335.1 83.502 337.85 81.052 Q 340.6 78.602 345.2 73.102 Q 346.4 71.702 347.9 71.702 Q 349.2 71.702 349.95 72.902 Q 350.7 74.102 350.7 76.202 Q 350.7 80.202 348.8 82.402 Q 344.5 87.702 339.55 91.102 Q 334.6 94.502 328.3 94.502 Q 323.2 94.502 320.6 91.552 Q 318 88.602 318 83.002 Q 318 80.202 319.4 73.002 Q 320.7 66.702 320.7 64.302 Q 320.7 62.702 319.6 62.702 Q 318.3 62.702 315.9 66.052 Q 313.5 69.402 311.1 74.902 Q 308.7 80.402 307.2 86.502 Q 306.1 91.302 304.65 92.902 Q 303.2 94.502 300 94.502 Q 296.7 94.502 295.05 91.352 Q 293.4 88.202 293.4 83.702 Q 293.4 79.902 294.4 72.702 Q 295.2 66.302 295.2 64.302 Q 295.2 62.702 294.1 62.702 Q 292.6 62.702 290.3 66.302 Q 288 69.902 285.85 75.502 Q 283.7 81.102 282.4 86.502 Q 281.3 91.202 279.85 92.852 Q 278.4 94.502 275.3 94.502 Z M 796.7 94.502 Q 792.9 94.502 791.35 90.502 Q 789.8 86.502 789.8 77.702 Q 789.8 64.702 793.5 53.002 Q 794.4 50.102 796.45 48.752 Q 798.5 47.402 802.2 47.402 Q 804.2 47.402 805 47.902 Q 805.8 48.402 805.8 49.802 Q 805.8 51.402 804.3 57.002 Q 803.3 61.002 802.7 63.952 Q 802.1 66.902 801.7 71.302 Q 804.4 63.502 808.15 58.102 Q 811.9 52.702 815.85 50.052 Q 819.8 47.402 823.3 47.402 Q 826.8 47.402 828.25 49.002 Q 829.7 50.602 829.7 53.902 Q 829.7 57.102 827.8 65.502 Q 827 69.102 826.7 70.902 Q 831.7 58.602 837.8 53.002 Q 843.9 47.402 849.2 47.402 Q 855.7 47.402 855.7 53.902 Q 855.7 57.802 853.5 68.002 Q 851.6 76.702 851.6 79.502 Q 851.6 83.502 854.5 83.502 Q 856.5 83.502 859.25 81.052 Q 862 78.602 866.6 73.102 Q 867.8 71.702 869.3 71.702 Q 870.6 71.702 871.35 72.902 Q 872.1 74.102 872.1 76.202 Q 872.1 80.202 870.2 82.402 Q 865.9 87.702 860.95 91.102 Q 856 94.502 849.7 94.502 Q 844.6 94.502 842 91.552 Q 839.4 88.602 839.4 83.002 Q 839.4 80.202 840.8 73.002 Q 842.1 66.702 842.1 64.302 Q 842.1 62.702 841 62.702 Q 839.7 62.702 837.3 66.052 Q 834.9 69.402 832.5 74.902 Q 830.1 80.402 828.6 86.502 Q 827.5 91.302 826.05 92.902 Q 824.6 94.502 821.4 94.502 Q 818.1 94.502 816.45 91.352 Q 814.8 88.202 814.8 83.702 Q 814.8 79.902 815.8 72.702 Q 816.6 66.302 816.6 64.302 Q 816.6 62.702 815.5 62.702 Q 814 62.702 811.7 66.302 Q 809.4 69.902 807.25 75.502 Q 805.1 81.102 803.8 86.502 Q 802.7 91.202 801.25 92.852 Q 799.8 94.502 796.7 94.502 Z M 871.1 94.502 Q 867.3 94.502 865.75 90.502 Q 864.2 86.502 864.2 77.702 Q 864.2 64.702 867.9 53.002 Q 868.8 50.102 870.85 48.752 Q 872.9 47.402 876.6 47.402 Q 878.6 47.402 879.4 47.902 Q 880.2 48.402 880.2 49.802 Q 880.2 51.402 878.7 57.002 Q 877.7 61.002 877.1 63.952 Q 876.5 66.902 876.1 71.302 Q 878.8 63.502 882.55 58.102 Q 886.3 52.702 890.25 50.052 Q 894.2 47.402 897.7 47.402 Q 901.2 47.402 902.65 49.002 Q 904.1 50.602 904.1 53.902 Q 904.1 57.102 902.2 65.502 Q 901.4 69.102 901.1 70.902 Q 906.1 58.602 912.2 53.002 Q 918.3 47.402 923.6 47.402 Q 930.1 47.402 930.1 53.902 Q 930.1 57.802 927.9 68.002 Q 926 76.702 926 79.502 Q 926 83.502 928.9 83.502 Q 930.9 83.502 933.65 81.052 Q 936.4 78.602 941 73.102 Q 942.2 71.702 943.7 71.702 Q 945 71.702 945.75 72.902 Q 946.5 74.102 946.5 76.202 Q 946.5 80.202 944.6 82.402 Q 940.3 87.702 935.35 91.102 Q 930.4 94.502 924.1 94.502 Q 919 94.502 916.4 91.552 Q 913.8 88.602 913.8 83.002 Q 913.8 80.202 915.2 73.002 Q 916.5 66.702 916.5 64.302 Q 916.5 62.702 915.4 62.702 Q 914.1 62.702 911.7 66.052 Q 909.3 69.402 906.9 74.902 Q 904.5 80.402 903 86.502 Q 901.9 91.302 900.45 92.902 Q 899 94.502 895.8 94.502 Q 892.5 94.502 890.85 91.352 Q 889.2 88.202 889.2 83.702 Q 889.2 79.902 890.2 72.702 Q 891 66.302 891 64.302 Q 891 62.702 889.9 62.702 Q 888.4 62.702 886.1 66.302 Q 883.8 69.902 881.65 75.502 Q 879.5 81.102 878.2 86.502 Q 877.1 91.202 875.65 92.852 Q 874.2 94.502 871.1 94.502 Z M 559.2 79.502 L 559.3 71.502 Q 559.3 56.102 562.45 39.402 Q 565.6 22.702 571.75 11.352 Q 577.9 0.002 586.5 0.002 Q 591.1 0.002 593.95 3.952 Q 596.8 7.902 596.8 14.202 Q 596.8 24.302 590.9 35.152 Q 585 46.002 571.7 60.502 Q 571.4 65.702 571.4 71.202 Q 574.7 62.702 578.75 57.352 Q 582.8 52.002 586.75 49.702 Q 590.7 47.402 594 47.402 Q 600.5 47.402 600.5 53.902 Q 600.5 57.802 598.3 68.002 Q 596.4 76.702 596.4 79.502 Q 596.4 83.502 599.3 83.502 Q 601.3 83.502 604.05 81.052 Q 606.8 78.602 611.4 73.102 Q 612.6 71.702 614.1 71.702 Q 615.4 71.702 616.15 72.902 Q 616.9 74.102 616.9 76.202 Q 616.9 80.202 615 82.402 Q 610.4 87.702 605.55 91.102 Q 600.7 94.502 594.5 94.502 Q 589.4 94.502 586.8 91.552 Q 584.2 88.602 584.2 83.002 Q 584.2 80.202 585.6 73.002 Q 586.9 66.702 586.9 64.302 Q 586.9 62.702 585.8 62.702 Q 584.5 62.702 582.1 66.052 Q 579.7 69.402 577.3 74.902 Q 574.9 80.402 573.4 86.502 Q 571.5 94.502 564 94.502 Q 561 94.502 560.05 92.352 Q 559.1 90.202 559.1 84.602 Q 559.1 81.402 559.2 79.502 Z M 412.7 56.902 L 408.8 56.902 Q 405.8 56.902 404.75 55.802 Q 403.7 54.702 403.7 52.302 Q 403.7 46.702 408.2 46.702 L 413.9 46.702 Q 415.6 35.702 419.1 26.602 Q 422.6 17.502 427.55 12.102 Q 432.5 6.702 438.2 6.702 Q 442.4 6.702 444.8 10.402 Q 447.2 14.102 447.2 19.702 Q 447.2 35.202 434.2 46.702 L 445.4 46.702 Q 447 46.702 447.7 47.402 Q 448.4 48.102 448.4 50.002 Q 448.4 56.902 437.1 56.902 L 424.9 56.902 Q 424.7 61.902 424.7 64.702 Q 424.7 75.102 427.15 79.302 Q 429.6 83.502 434.9 83.502 Q 439.2 83.502 442.5 80.902 Q 445.8 78.302 450.3 73.102 Q 451.5 71.702 453 71.702 Q 454.3 71.702 455.05 72.902 Q 455.8 74.102 455.8 76.202 Q 455.8 80.202 453.9 82.402 Q 449.6 87.702 444.5 91.102 Q 439.4 94.502 432.8 94.502 Q 412.4 94.502 412.4 65.802 Q 412.4 61.402 412.7 56.902 Z M 523.6 56.902 L 519.7 56.902 Q 516.7 56.902 515.65 55.802 Q 514.6 54.702 514.6 52.302 Q 514.6 46.702 519.1 46.702 L 524.8 46.702 Q 526.5 35.702 530 26.602 Q 533.5 17.502 538.45 12.102 Q 543.4 6.702 549.1 6.702 Q 553.3 6.702 555.7 10.402 Q 558.1 14.102 558.1 19.702 Q 558.1 35.202 545.1 46.702 L 556.3 46.702 Q 557.9 46.702 558.6 47.402 Q 559.3 48.102 559.3 50.002 Q 559.3 56.902 548 56.902 L 535.8 56.902 Q 535.6 61.902 535.6 64.702 Q 535.6 75.102 538.05 79.302 Q 540.5 83.502 545.8 83.502 Q 550.1 83.502 553.4 80.902 Q 556.7 78.302 561.2 73.102 Q 562.4 71.702 563.9 71.702 Q 565.2 71.702 565.95 72.902 Q 566.7 74.102 566.7 76.202 Q 566.7 80.202 564.8 82.402 Q 560.5 87.702 555.4 91.102 Q 550.3 94.502 543.7 94.502 Q 523.3 94.502 523.3 65.802 Q 523.3 61.402 523.6 56.902 Z M 753.6 94.502 Q 749.1 94.502 746.25 90.352 Q 743.4 86.202 743.4 80.002 Q 743.4 72.502 744.4 66.252 Q 745.4 60.002 747.7 53.002 Q 748.7 50.002 750.5 48.702 Q 752.3 47.402 756.2 47.402 Q 758.4 47.402 759.25 48.102 Q 760.1 48.802 760.1 50.202 Q 760.1 51.002 759 55.602 Q 758 59.302 757.4 62.302 Q 755.4 72.802 755.4 76.302 Q 755.4 78.402 755.9 79.252 Q 756.4 80.102 757.5 80.102 Q 759 80.102 761.25 77.102 Q 763.5 74.102 766.05 68.002 Q 768.6 61.902 771 53.002 Q 771.8 50.002 773.45 48.702 Q 775.1 47.402 778.4 47.402 Q 780.7 47.402 781.6 47.952 Q 782.5 48.502 782.5 50.002 Q 782.5 52.502 780 63.702 Q 777.2 76.502 777.2 79.502 Q 777.2 81.402 778 82.452 Q 778.8 83.502 780.1 83.502 Q 782.1 83.502 784.85 81.052 Q 787.6 78.602 792.2 73.102 Q 793.4 71.702 794.9 71.702 Q 796.2 71.702 796.95 72.902 Q 797.7 74.102 797.7 76.202 Q 797.7 80.202 795.8 82.402 Q 791.5 87.702 786.55 91.102 Q 781.6 94.502 775.3 94.502 Q 770.5 94.502 768.25 90.802 Q 766 87.102 766 80.402 Q 764.3 87.202 760.9 90.852 Q 757.5 94.502 753.6 94.502 Z M 191.6 71.702 Q 192.9 71.702 193.65 72.902 Q 194.4 74.102 194.4 76.202 Q 194.4 80.202 192.5 82.402 Q 188.2 87.702 183.15 91.102 Q 178.1 94.502 171.7 94.502 Q 162.9 94.502 158.65 86.502 Q 154.4 78.502 154.4 65.802 Q 154.4 53.602 157.55 38.002 Q 160.7 22.402 166.85 11.202 Q 173 0.002 181.5 0.002 Q 186.3 0.002 189.05 4.452 Q 191.8 8.902 191.8 17.202 Q 191.8 29.102 185.2 44.802 Q 178.6 60.502 167.3 75.902 Q 168 80.002 169.6 81.752 Q 171.2 83.502 173.8 83.502 Q 177.9 83.502 181 81.152 Q 184.1 78.802 188.9 73.102 Q 190.1 71.702 191.6 71.702 Z M 1075.4 58.402 L 1059 58.802 Q 1056.8 58.902 1055.65 57.252 Q 1054.5 55.602 1054.5 53.302 Q 1054.5 50.902 1055.65 49.052 Q 1056.8 47.202 1058.8 47.202 Q 1063.4 47.202 1071.1 47.902 Q 1072.7 48.002 1076.95 48.302 Q 1081.2 48.602 1084.1 48.602 Q 1085.1 48.602 1087.9 47.802 Q 1088.4 47.702 1089.85 47.302 Q 1091.3 46.902 1092.3 46.902 Q 1093.9 46.902 1094.95 48.302 Q 1096 49.702 1096 52.602 Q 1096 55.802 1094.5 57.602 Q 1093 59.402 1089.8 60.802 Q 1080.7 64.702 1074.7 69.152 Q 1068.7 73.602 1068.7 78.002 Q 1068.7 80.802 1071.3 82.602 Q 1073.9 84.402 1079 84.402 Q 1084.6 84.402 1090.35 81.602 Q 1096.1 78.802 1100.7 73.102 Q 1101.9 71.702 1103.4 71.702 Q 1104.7 71.702 1105.45 72.902 Q 1106.2 74.102 1106.2 76.202 Q 1106.2 79.902 1104.3 82.402 Q 1099.6 88.502 1092.65 92.002 Q 1085.7 95.502 1077 95.502 Q 1070.2 95.502 1065.2 93.452 Q 1060.2 91.402 1057.55 87.852 Q 1054.9 84.302 1054.9 79.902 Q 1054.9 73.302 1060.2 68.202 Q 1065.5 63.102 1075.4 58.402 Z M 992.5 94.502 Q 988.7 94.502 987.15 90.502 Q 985.6 86.502 985.6 77.702 Q 985.6 64.702 989.3 53.002 Q 990.2 50.102 992.25 48.752 Q 994.3 47.402 998 47.402 Q 1000 47.402 1000.8 47.902 Q 1001.6 48.402 1001.6 49.802 Q 1001.6 51.402 1000.1 57.002 Q 999.1 61.002 998.5 64.002 Q 997.9 67.002 997.5 71.402 Q 1000.8 62.802 1004.9 57.402 Q 1009 52.002 1012.95 49.702 Q 1016.9 47.402 1020.2 47.402 Q 1026.7 47.402 1026.7 53.902 Q 1026.7 55.202 1025.8 60.202 Q 1025 64.202 1025 65.202 Q 1025 68.702 1027.5 68.702 Q 1030.3 68.702 1034.7 64.302 Q 1036 63.002 1037.4 63.002 Q 1038.7 63.002 1039.45 64.152 Q 1040.2 65.302 1040.2 67.202 Q 1040.2 70.902 1038.2 73.002 Q 1035.4 75.902 1031.65 77.952 Q 1027.9 80.002 1023.7 80.002 Q 1018.4 80.002 1015.65 77.302 Q 1012.9 74.602 1012.9 70.002 Q 1012.9 68.502 1013.2 67.002 Q 1013.4 65.002 1013.4 64.302 Q 1013.4 62.702 1012.3 62.702 Q 1010.8 62.702 1008.35 66.052 Q 1005.9 69.402 1003.5 74.902 Q 1001.1 80.402 999.6 86.502 Q 998.5 91.202 997.05 92.852 Q 995.6 94.502 992.5 94.502 Z M 1144.4 94.502 Q 1140.6 94.502 1139.05 90.502 Q 1137.5 86.502 1137.5 77.702 Q 1137.5 64.702 1141.2 53.002 Q 1142.1 50.102 1144.15 48.752 Q 1146.2 47.402 1149.9 47.402 Q 1151.9 47.402 1152.7 47.902 Q 1153.5 48.402 1153.5 49.802 Q 1153.5 51.402 1152 57.002 Q 1151 61.002 1150.4 64.002 Q 1149.8 67.002 1149.4 71.402 Q 1152.7 62.802 1156.8 57.402 Q 1160.9 52.002 1164.85 49.702 Q 1168.8 47.402 1172.1 47.402 Q 1178.6 47.402 1178.6 53.902 Q 1178.6 55.202 1177.7 60.202 Q 1176.9 64.202 1176.9 65.202 Q 1176.9 68.702 1179.4 68.702 Q 1182.2 68.702 1186.6 64.302 Q 1187.9 63.002 1189.3 63.002 Q 1190.6 63.002 1191.35 64.152 Q 1192.1 65.302 1192.1 67.202 Q 1192.1 70.902 1190.1 73.002 Q 1187.3 75.902 1183.55 77.952 Q 1179.8 80.002 1175.6 80.002 Q 1170.3 80.002 1167.55 77.302 Q 1164.8 74.602 1164.8 70.002 Q 1164.8 68.502 1165.1 67.002 Q 1165.3 65.002 1165.3 64.302 Q 1165.3 62.702 1164.2 62.702 Q 1162.7 62.702 1160.25 66.052 Q 1157.8 69.402 1155.4 74.902 Q 1153 80.402 1151.5 86.502 Q 1150.4 91.202 1148.95 92.852 Q 1147.5 94.502 1144.4 94.502 Z M 205.4 94.502 Q 195.6 94.502 190.15 88.952 Q 184.7 83.402 184.7 74.302 Q 184.7 66.202 187.9 60.102 Q 191.1 54.002 196.2 50.702 Q 201.3 47.402 206.9 47.402 Q 212.4 47.402 215.45 50.652 Q 218.5 53.902 218.5 59.002 Q 218.5 63.202 216.65 66.102 Q 214.8 69.002 211.8 69.002 Q 209.9 69.002 208.75 68.102 Q 207.6 67.202 207.6 65.602 Q 207.6 64.902 207.8 64.002 Q 208 63.102 208.1 62.702 Q 208.6 61.202 208.6 59.902 Q 208.6 58.602 207.95 57.902 Q 207.3 57.202 206.1 57.202 Q 203.8 57.202 201.8 59.252 Q 199.8 61.302 198.6 64.802 Q 197.4 68.302 197.4 72.502 Q 197.4 84.102 207.5 84.102 Q 211.6 84.102 216.35 81.352 Q 221.1 78.602 225.7 73.102 Q 226.9 71.702 228.4 71.702 Q 229.7 71.702 230.45 72.902 Q 231.2 74.102 231.2 76.202 Q 231.2 80.002 229.3 82.402 Q 224.6 88.202 218.05 91.352 Q 211.5 94.502 205.4 94.502 Z M 159 71.702 Q 160.3 71.702 161.05 72.902 Q 161.8 74.102 161.8 76.202 Q 161.8 80.202 159.9 82.402 Q 156.2 86.902 149.45 90.702 Q 142.7 94.502 135 94.502 Q 124.5 94.502 118.7 88.802 Q 112.9 83.102 112.9 73.202 Q 112.9 66.302 115.8 60.352 Q 118.7 54.402 123.85 50.902 Q 129 47.402 135.5 47.402 Q 141.3 47.402 144.8 50.852 Q 148.3 54.302 148.3 60.202 Q 148.3 67.102 143.35 72.052 Q 138.4 77.002 126.6 79.902 Q 129.1 84.502 136.1 84.502 Q 140.6 84.502 146.35 81.352 Q 152.1 78.202 156.3 73.102 Q 157.5 71.702 159 71.702 Z M 387.2 71.702 Q 388.5 71.702 389.25 72.902 Q 390 74.102 390 76.202 Q 390 80.202 388.1 82.402 Q 384.4 86.902 377.65 90.702 Q 370.9 94.502 363.2 94.502 Q 352.7 94.502 346.9 88.802 Q 341.1 83.102 341.1 73.202 Q 341.1 66.302 344 60.352 Q 346.9 54.402 352.05 50.902 Q 357.2 47.402 363.7 47.402 Q 369.5 47.402 373 50.852 Q 376.5 54.302 376.5 60.202 Q 376.5 67.102 371.55 72.052 Q 366.6 77.002 354.8 79.902 Q 357.3 84.502 364.3 84.502 Q 368.8 84.502 374.55 81.352 Q 380.3 78.202 384.5 73.102 Q 385.7 71.702 387.2 71.702 Z M 653.4 71.702 Q 654.7 71.702 655.45 72.902 Q 656.2 74.102 656.2 76.202 Q 656.2 80.202 654.3 82.402 Q 650.6 86.902 643.85 90.702 Q 637.1 94.502 629.4 94.502 Q 618.9 94.502 613.1 88.802 Q 607.3 83.102 607.3 73.202 Q 607.3 66.302 610.2 60.352 Q 613.1 54.402 618.25 50.902 Q 623.4 47.402 629.9 47.402 Q 635.7 47.402 639.2 50.852 Q 642.7 54.302 642.7 60.202 Q 642.7 67.102 637.75 72.052 Q 632.8 77.002 621 79.902 Q 623.5 84.502 630.5 84.502 Q 635 84.502 640.75 81.352 Q 646.5 78.202 650.7 73.102 Q 651.9 71.702 653.4 71.702 Z M 1142.6 71.702 Q 1143.9 71.702 1144.65 72.902 Q 1145.4 74.102 1145.4 76.202 Q 1145.4 80.202 1143.5 82.402 Q 1139.8 86.902 1133.05 90.702 Q 1126.3 94.502 1118.6 94.502 Q 1108.1 94.502 1102.3 88.802 Q 1096.5 83.102 1096.5 73.202 Q 1096.5 66.302 1099.4 60.352 Q 1102.3 54.402 1107.45 50.902 Q 1112.6 47.402 1119.1 47.402 Q 1124.9 47.402 1128.4 50.852 Q 1131.9 54.302 1131.9 60.202 Q 1131.9 67.102 1126.95 72.052 Q 1122 77.002 1110.2 79.902 Q 1112.7 84.502 1119.7 84.502 Q 1124.2 84.502 1129.95 81.352 Q 1135.7 78.202 1139.9 73.102 Q 1141.1 71.702 1142.6 71.702 Z M 950.7 94.502 Q 944.5 94.502 940.8 90.002 Q 937.1 85.502 937.1 78.202 Q 937.1 70.202 940.8 63.052 Q 944.5 55.902 950.65 51.552 Q 956.8 47.202 963.7 47.202 Q 965.9 47.202 966.65 48.052 Q 967.4 48.902 967.9 51.102 Q 970 50.702 972.3 50.702 Q 977.2 50.702 977.2 54.202 Q 977.2 56.302 975.7 64.202 Q 973.4 75.702 973.4 80.202 Q 973.4 81.702 974.15 82.602 Q 974.9 83.502 976.1 83.502 Q 978 83.502 980.7 81.052 Q 983.4 78.602 988 73.102 Q 989.2 71.702 990.7 71.702 Q 992 71.702 992.75 72.902 Q 993.5 74.102 993.5 76.202 Q 993.5 80.202 991.6 82.402 Q 987.5 87.502 982.9 91.002 Q 978.3 94.502 974 94.502 Q 970.7 94.502 967.95 92.252 Q 965.2 90.002 963.8 86.102 Q 958.6 94.502 950.7 94.502 Z M 274.1 63.302 Q 275.4 63.302 276.1 64.602 Q 276.8 65.902 276.8 67.902 Q 276.8 72.702 273.9 73.602 Q 267.9 75.702 260.7 76.002 Q 258.8 84.402 253.2 89.452 Q 247.6 94.502 240.5 94.502 Q 234.5 94.502 230.25 91.602 Q 226 88.702 223.8 83.902 Q 221.6 79.102 221.6 73.502 Q 221.6 65.902 224.5 59.952 Q 227.4 54.002 232.5 50.652 Q 237.6 47.302 243.8 47.302 Q 251.4 47.302 256.05 52.552 Q 260.7 57.802 261.5 65.502 Q 266.2 65.202 272.7 63.502 Q 273.5 63.302 274.1 63.302 Z M 498.7 63.302 Q 500 63.302 500.7 64.602 Q 501.4 65.902 501.4 67.902 Q 501.4 72.702 498.5 73.602 Q 492.5 75.702 485.3 76.002 Q 483.4 84.402 477.8 89.452 Q 472.2 94.502 465.1 94.502 Q 459.1 94.502 454.85 91.602 Q 450.6 88.702 448.4 83.902 Q 446.2 79.102 446.2 73.502 Q 446.2 65.902 449.1 59.952 Q 452 54.002 457.1 50.652 Q 462.2 47.302 468.4 47.302 Q 476 47.302 480.65 52.552 Q 485.3 57.802 486.1 65.502 Q 490.8 65.202 497.3 63.502 Q 498.1 63.302 498.7 63.302 Z M 1043.2 94.502 Q 1036.7 94.502 1033.75 89.902 Q 1030.8 85.302 1030.8 77.702 Q 1030.8 73.202 1031.95 66.152 Q 1033.1 59.102 1034.9 53.002 Q 1035.8 49.802 1037.3 48.602 Q 1038.8 47.402 1042.1 47.402 Q 1047.2 47.402 1047.2 50.802 Q 1047.2 53.302 1045.3 62.402 Q 1042.9 73.402 1042.9 77.302 Q 1042.9 80.302 1043.7 81.902 Q 1044.5 83.502 1046.4 83.502 Q 1048.2 83.502 1050.9 81.002 Q 1053.6 78.502 1058.1 73.102 Q 1059.3 71.702 1060.8 71.702 Q 1062.1 71.702 1062.85 72.902 Q 1063.6 74.102 1063.6 76.202 Q 1063.6 80.202 1061.7 82.402 Q 1051.8 94.502 1043.2 94.502 Z M 179.3 9.902 Q 177 9.902 174.1 18.202 Q 171.2 26.502 169 38.802 Q 166.8 51.102 166.6 62.402 Q 173.7 50.702 177.9 38.952 Q 182.1 27.202 182.1 17.502 Q 182.1 9.902 179.3 9.902 Z M 584.4 9.902 Q 582.6 9.902 580.4 15.052 Q 578.2 20.202 576.15 28.952 Q 574.1 37.702 572.8 48.002 Q 579 40.702 583.05 32.102 Q 587.1 23.502 587.1 16.502 Q 587.1 13.302 586.4 11.602 Q 585.7 9.902 584.4 9.902 Z M 961.4 74.902 L 965.1 56.502 Q 960.9 56.602 957.35 59.652 Q 953.8 62.702 951.7 67.702 Q 949.6 72.702 949.6 78.302 Q 949.6 81.402 950.85 82.902 Q 952.1 84.402 954.3 84.402 Q 956.5 84.402 958.5 81.802 Q 960.5 79.202 961.4 74.902 Z M 243.9 57.902 L 243.4 57.902 Q 239.4 57.902 236.75 61.752 Q 234.1 65.602 234.1 72.602 Q 234.1 78.102 236.25 81.002 Q 238.4 83.902 241.3 83.902 Q 244.5 83.902 246.85 81.302 Q 249.2 78.702 250 73.802 Q 246.9 71.702 245.25 68.302 Q 243.6 64.902 243.6 61.102 Q 243.6 59.502 243.9 57.902 Z M 468.5 57.902 L 468 57.902 Q 464 57.902 461.35 61.752 Q 458.7 65.602 458.7 72.602 Q 458.7 78.102 460.85 81.002 Q 463 83.902 465.9 83.902 Q 469.1 83.902 471.45 81.302 Q 473.8 78.702 474.6 73.802 Q 471.5 71.702 469.85 68.302 Q 468.2 64.902 468.2 61.102 Q 468.2 59.502 468.5 57.902 Z M 435.5 16.302 Q 434 16.302 432.15 20.052 Q 430.3 23.802 428.65 30.452 Q 427 37.102 425.9 45.202 Q 431.8 40.102 434.75 33.752 Q 437.7 27.402 437.7 22.202 Q 437.7 16.302 435.5 16.302 Z M 546.4 16.302 Q 544.9 16.302 543.05 20.052 Q 541.2 23.802 539.55 30.452 Q 537.9 37.102 536.8 45.202 Q 542.7 40.102 545.65 33.752 Q 548.6 27.402 548.6 22.202 Q 548.6 16.302 546.4 16.302 Z M 90.2 31.102 Q 90.2 40.902 96.5 45.602 Q 100.4 34.402 100.4 27.102 Q 100.4 22.902 99.3 20.952 Q 98.2 19.002 96.3 19.002 Q 93.6 19.002 91.9 22.152 Q 90.2 25.302 90.2 31.102 Z M 1044 40.802 Q 1039.8 40.802 1037.7 38.852 Q 1035.6 36.902 1035.6 33.402 Q 1035.6 29.902 1038.35 27.552 Q 1041.1 25.202 1045.2 25.202 Q 1048.9 25.202 1051.2 27.002 Q 1053.5 28.802 1053.5 32.102 Q 1053.5 36.102 1050.9 38.452 Q 1048.3 40.802 1044 40.802 Z M 125 71.902 L 125 72.102 Q 130.9 70.702 134.3 67.902 Q 137.7 65.102 137.7 61.402 Q 137.7 59.502 136.65 58.352 Q 135.6 57.202 133.8 57.202 Q 130.1 57.202 127.55 61.502 Q 125 65.802 125 71.902 Z M 353.2 71.902 L 353.2 72.102 Q 359.1 70.702 362.5 67.902 Q 365.9 65.102 365.9 61.402 Q 365.9 59.502 364.85 58.352 Q 363.8 57.202 362 57.202 Q 358.3 57.202 355.75 61.502 Q 353.2 65.802 353.2 71.902 Z M 619.4 71.902 L 619.4 72.102 Q 625.3 70.702 628.7 67.902 Q 632.1 65.102 632.1 61.402 Q 632.1 59.502 631.05 58.352 Q 630 57.202 628.2 57.202 Q 624.5 57.202 621.95 61.502 Q 619.4 65.802 619.4 71.902 Z M 1108.6 71.902 L 1108.6 72.102 Q 1114.5 70.702 1117.9 67.902 Q 1121.3 65.102 1121.3 61.402 Q 1121.3 59.502 1120.25 58.352 Q 1119.2 57.202 1117.4 57.202 Q 1113.7 57.202 1111.15 61.502 Q 1108.6 65.802 1108.6 71.902 Z"
                vectorEffect="non-scaling-stroke"
              />
            </g>
          </svg>
        </div>
      </div>

      <div className="select-tab-div gap-1.5 hidden relative " ref={buttonRef}>
        <div
          className="absolute right-0 top-0 bg-amber-50 rounded-2xl z-10 px-6.5 py-.5 capitalize bg cursor-pointer"
          style={{
            transform:
              btnValue == "url" ? "translateX(-82px)" : "translateX(0px)",
          }}
        >
          {btnValue}
        </div>
        <div>
          <button
            className={cx(
              "rounded-2xl w-[100%] px-6.5 py-.5 cursor-pointer btn background-glass "
            )}
            value="url"
            onClick={(e) => {
              getValue(e);
            }}
          >
            Url
          </button>
        </div>
        <div>
          <button
            className={cx(
              "rounded-2xl w-[100%] px-6.5 py-.5 cursor-pointer background-glass"
            )}
            value="pdf"
            onClick={(e) => {
              getValue(e);
            }}
          >
            Pdf
          </button>
        </div>
      </div>
      {btnValue == "url" ? (
        <>
          <form
            ref={inputRef}
            className="form w-[70%] background-glass p-3  justify-center items-center hidden    "
          >
            <input
              type="url"
              placeholder="Enter a URL"
              value={article.url}
              onChange={(e) => setArticle({ ...article, url: e.target.value })}
              required
              className="url_input pl-3 peer-focus:border-gray-700 peer-focus:text-gray-700 w-[80%] background"
            />

            <button
              disabled={isFetching}
              className="submit-btn w-[20%] bg-white p-3 rounded-3xl cursor-pointer "
              onClick={submit}
            >
              {isFetching ? " Summarizing.." : "Submit"}
            </button>
          </form>
          <div
            ref={historyRef}
            className="hsitory-div hidden gap-3 w-[70%] overflow-x-auto  "
          >
            {allArticle.map((item, index) => {
              return (
                <button
                  className="background-glass
            px-4 py-2 rounded-3xl"
                  onClick={(e) => {
                    historyButton(e, index, item);
                  }}
                  value={index}
                >
                  {item.url.slice(0, 21) + "..."}
                </button>
              );
            })}
          </div>
          {article.summary != "" && (
            <div className="summaryText background-glass w-[70%]">
              <p>{article.summary}</p>
            </div>
          )}{" "}
        </>
      ) : (
        <>
          <PdfSummarizer />
        </>
      )}
    </div>
  );
}

export default TextInputSummarizer;
